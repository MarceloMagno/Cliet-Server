<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

	<ui:define name="titulo">Client Web Server</ui:define>

	<ui:define name="corpo">
		<h:form id="form" >
			<p:panel id="panelNovoUser"  header="Configuração de Usuário"
				style="width:70%; margin-left:15%; margin-top:10px; margin-bottom:10px; margin-right:25%; background-color: #3B3B3B;">
	        <p:messages id="messages" showDetail="true" autoUpdate="true" />
			    <h:panelGrid columns="2" cellpadding="5" styleClass="filds" >
			        
			        <p:outputLabel for="login" value="Usuário : "/>
			        <p:inputMask id="login" placeholder="Usuário" 
			                     value="#{usuarioBean.username}" required="true" />
			 
			        <p:outputLabel for="password" value="Senha :" />
			        <p:password id="password" match="passwordConfirm" value="#{usuarioBean.password}"
			                   label="Senha" placeholder="***********" required="true" />
			        
			        <p:outputLabel for="passwordConfirm" value="Confirmar Senha :" />
			        <p:password id="passwordConfirm" value="#{usuarioBean.password}"
			                   label="Confirmar Senha :" placeholder="***********" required="true"/>
			 
			        <p:commandButton value="Limpar" type="reset" action="#{usuarioBean.limpar}" />

			        <p:commandButton value="Salvar" action="#{usuarioBean.salvar}" update="@form"/>
			    </h:panelGrid>
			    <p:panel id="panelTable"  header="Usuários"
			      style="width:100%; margin-left:0%; margin-top:20px; margin-bottom:20px; margin-right:25%; background-color: #FFFFFF;">
			        <p:dataTable id="usuariosTable" value="#{usuarioBean.listUsuario}" var="user" 
			        selectionMode="single" rowKey="#{user.username}"
	            style="margin-top: 10px" emptyMessage="Nenhum usuário encontrado." 
	            rows="4" paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom">
	              
		              <p:ajax event="rowSelect"  update=":form:messages" />
		              <p:ajax event="rowUnselect"  update=":form:messages" />
				          
				          <p:column headerText="Nome do Usuário">
				            <h:outputText value="#{user.username}"/>
				          </p:column>
				         <!--  <p:column headerText="Senha">
				            <h:outputText value="#{user.password}"/>
				          </p:column> -->
				          
				          <p:column style="width: 100px; text-align: center">
				            <p:commandButton icon="ui-icon-trash" title="Excluir" process="@this" >
				              
				            </p:commandButton>
				          </p:column>
		        </p:dataTable>
			    </p:panel>
		    </p:panel>
		</h:form>
	</ui:define>

</ui:composition>