<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

	<ui:define name="titulo">Client Web Server</ui:define>

	<ui:define name="corpo">
		<h:form id="form" >
			<p:panel id="panelNovoUser"  header="Configuração de Usuário" styleClass="painelCorpo">
	        <p:messages id="messages" showDetail="true" autoUpdate="true" />
			    <h:panelGrid columns="1" cellpadding="5" styleClass="filds" >
			       
			        <h:panelGroup>
					        <p:outputLabel for="login" value="Usuário : " style="margin-right: 58px;"/>
					        <p:inputMask id="login" placeholder="Usuário" 
					                     value="#{usuarioBean.username}" required="true" style="width:40%;"/>
			        </h:panelGroup>
			        
			        <h:panelGroup>
					        <p:outputLabel for="password" value="Senha :" style="margin-right: 70px;"/>
					        <p:password id="password" match="passwordConfirm" value="#{usuarioBean.password}"
					                   label="Senha" placeholder="***********" required="true" style="width:40%;"/>
			        </h:panelGroup>
			        
			        <h:panelGroup>
					        <p:outputLabel for="passwordConfirm" value="Confirmar Senha :" style="margin-right: 9px;" />
					        <p:password id="passwordConfirm" value="#{usuarioBean.password}"
					                   label="Confirmar Senha :" placeholder="***********" required="true" style="width:40%;"/>
			        </h:panelGroup>
			        
			        <p:separator style="margin-top: 20px;" />
			        
			        <h:panelGroup>
					        <p:commandButton value="Limpar" icon="ui-icon-arrowreturnthick-1-s"
                     type="reset" style="margin-right: 10px; margin-bottom: 10px;"  />
					        <p:commandButton value="Salvar" action="#{usuarioBean.salvar}" update="@form" 
					           icon="ui-icon-disk" style="margin-right: 10px; margin-bottom: 10px;"/>
			        </h:panelGroup>
			        
			    </h:panelGrid>
			    
			    <p:panel id="panelTable"  header="Usuários"
			      style="width:100%; margin-left:0%; margin-top:20px; margin-bottom:20px; margin-right:25%; background-color: #FFFFFF;">
			        <p:dataTable id="usuariosTable" value="#{usuarioBean.listUsuario}" var="user" 
			        selectionMode="single" rowKey="#{user.username}"
	            style="margin-top: 10px" emptyMessage="Nenhum usuário encontrado." 
	            rows="4" paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom">
	              
		              <p:ajax event="rowSelect"  update=":form:messages" />
		              <p:ajax event="rowUnselect"  update=":form:messages" />
				          
				          <p:column headerText="Nome do Usuário">
				            <h:outputText value="#{user.username}"/>
				          </p:column>
				          <p:column style="width: 100px; text-align: center">
				            <p:commandButton icon="ui-icon-trash" title="Excluir" process="@this" >
				              
				            </p:commandButton>
				          </p:column>
		        </p:dataTable>
			    </p:panel>
		    </p:panel>
		</h:form>
	</ui:define>

</ui:composition>